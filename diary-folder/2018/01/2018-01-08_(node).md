# node

进程锁就是通过记录一个 pid 文件, 避免两个进程同时运行的文件锁.其中一个作用就是协调进程的运行, 如果限定一分钟运行一个进程的话, 有可能一个进程是运行超过一分钟的, 
这样如果再次运行另外一个进程的话可能会有问题, 进程冲突, 另外的作用就是方便进程自己发停止或重启信号, 因为在进程启动的时候, 系统会将 pid 写入 /var/run/nginx.pid
文件中, 也就是比如在 nginx 服务器里面设置的话,就会将当前 pid 写入这个文件
操作系统默认是不会为每个进程进程锁, 实现进程锁可以通过文件来实现, 在程序开始的时候检查一个 pid 文件, 如果存在那么就退出, 如果不存在则创建, 将当前的进程写入文件里面.
尽量使用系统原生的 flock 接口.